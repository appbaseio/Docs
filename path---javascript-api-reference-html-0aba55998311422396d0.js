webpackJsonp([0x6f5597f36fe4],{415:function(n,s){n.exports={data:{markdownRemark:{html:'<p><a href="https://github.com/appbaseio/appbase-js">appbase-js</a> is a universal JavaScript client library for working with the appbase.io database.</p>\n<h2 id="instantiation"><a href="#instantiation" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>INSTANTIATION</h2>\n<h3 id="appbase"><a href="#appbase" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Appbase()</h3>\n<p>Returns an Appbase object (refered to as <code class="gatsby-code-text">appbaseRef</code> in all the following examples) using the <code class="gatsby-code-text">url</code>, <code class="gatsby-code-text">app</code> and <code class="gatsby-code-text">username</code>:<code class="gatsby-code-text">password</code> credentials.</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">var</span> appbaseRef <span class="token operator">=</span> <span class="token function">Appbase</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n\t<span class="token string">"url"</span><span class="token punctuation">:</span> <span class="token string">"https://scalr.api.appbase.io"</span><span class="token punctuation">,</span>\n\t<span class="token string">"app"</span><span class="token punctuation">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>YOUR_APP_NAME</span><span class="token punctuation">></span></span><span class="token punctuation">,</span>\n\t <span class="token comment">// use a combination of username &amp; password</span>\n\t<span class="token string">"username"</span><span class="token punctuation">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>APP_CREDENTIAL</span><span class="token punctuation">></span></span><span class="token punctuation">,</span>\n\t<span class="token string">"password"</span><span class="token punctuation">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>APP_SECRET</span><span class="token punctuation">></span></span><span class="token punctuation">,</span>\n\t<span class="token comment">// OR can use direct credentials</span>\n\t<span class="token string">"credentials"</span><span class="token punctuation">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>APP_KEY</span><span class="token punctuation">></span></span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p><strong>Usage</strong></p>\n<p><code class="gatsby-code-text">Appbase(appData)</code></p>\n<ul>\n<li>\n<p><strong>appData</strong> <code class="gatsby-code-text">Object</code> <br>A JavaScript object containing the following fields and values</p>\n<ul>\n<li><strong>url</strong> <code class="gatsby-code-text">String</code> <br>URL with the API version, always <em><a href="https://scalr.api.appbase.io">https://scalr.api.appbase.io</a></em></li>\n<li><strong>app</strong> <code class="gatsby-code-text">String</code> <br>name of the app as displayed in the <a href="https://appbase.io/scalr">dashboard</a></li>\n<li><strong>username</strong> <code class="gatsby-code-text">String</code> <br>username as displayed in the app dashboard</li>\n<li><strong>password</strong> <code class="gatsby-code-text">String</code> <br>password as displayed in the app dashboard</li>\n<li><strong>credentials</strong> <code class="gatsby-code-text">String</code> <br>Api key as displayed in the app dashboard<br></li>\n</ul>\n</li>\n</ul>\n<p><strong>Note</strong>: Either you can use a combination of <code class="gatsby-code-text">username</code> &#x26; <code class="gatsby-code-text">password</code> or use <code class="gatsby-code-text">credentials</code>.</p>\n<p><strong>Returns</strong></p>\n<p><code class="gatsby-code-text">Object</code> <strong>appbaseRef</strong> <em>Appbase reference object</em> - has <code class="gatsby-code-text">index()</code>, <code class="gatsby-code-text">update()</code>, <code class="gatsby-code-text">delete()</code>, <code class="gatsby-code-text">bulk()</code>, <code class="gatsby-code-text">search()</code>, <code class="gatsby-code-text">get()</code>, <code class="gatsby-code-text">getTypes()</code>, <code class="gatsby-code-text">getStream()</code>, <code class="gatsby-code-text">searchStream()</code> and <code class="gatsby-code-text">searchStreamToURL()</code> methods.</p>\n<h2 id="writing-data"><a href="#writing-data" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>WRITING DATA</h2>\n<h3 id="index"><a href="#index" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>index()</h3>\n<p>Writes a JSON data object at a given <code class="gatsby-code-text">type</code> and <code class="gatsby-code-text">id</code> location, or replaces if an object already exists.</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-jsx"><code class="gatsby-code-jsx">appbaseRef<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n\ttype<span class="token punctuation">:</span> <span class="token string">"tweet"</span><span class="token punctuation">,</span>\n\tid<span class="token punctuation">:</span> <span class="token string">"aX12c5"</span><span class="token punctuation">,</span>\n\tbody<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n\t\t<span class="token string">"msg"</span><span class="token punctuation">:</span> <span class="token string">"writing my first tweet!"</span><span class="token punctuation">,</span>\n\t\t<span class="token string">"by"</span><span class="token punctuation">:</span> <span class="token string">"jack"</span><span class="token punctuation">,</span>\n\t\t<span class="token string">"using"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"appbase.io"</span><span class="token punctuation">,</span> <span class="token string">"javascript"</span><span class="token punctuation">,</span> <span class="token string">"streams"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n\t\t<span class="token string">"test"</span><span class="token punctuation">:</span> <span class="token boolean">true</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"successfully indexed: "</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"indexing error: "</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p><strong>Usage</strong></p>\n<p><code class="gatsby-code-text">appbaseRef.index(params)</code></p>\n<ul>\n<li>\n<p><strong>params</strong> <code class="gatsby-code-text">Object</code> <br>A JavaScript object containing the type, id and the JSON data to be indexed</p>\n<ul>\n<li><strong>type</strong> <code class="gatsby-code-text">String</code> <br>The type (aka collection) under which the data will be indexed</li>\n<li><strong>body</strong> <code class="gatsby-code-text">Object</code> <br>Data to be indexed, a valid JSON object</li>\n<li><strong>id</strong> <code class="gatsby-code-text">String</code> <br>Unique ID for the JSON data. <code class="gatsby-code-text">id</code> is auto generated if not specified</li>\n</ul>\n</li>\n</ul>\n<h3 id="update"><a href="#update" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>update()</h3>\n<p>Partially updates an existing document at a given <code class="gatsby-code-text">type</code> and <code class="gatsby-code-text">id</code> location. The important difference with the index() method is that the latter replaces the existing data values wholesale, while update() only replaces the values that are specified in the <code class="gatsby-code-text">body.doc</code> field.</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-jsx"><code class="gatsby-code-jsx">appbaseRef<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n\ttype<span class="token punctuation">:</span> <span class="token string">"tweet"</span><span class="token punctuation">,</span>\n\tid<span class="token punctuation">:</span> <span class="token string">"aX12c5"</span><span class="token punctuation">,</span>\n\tbody<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n\t\tdoc<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n\t\t\t<span class="token string">"msg"</span><span class="token punctuation">:</span> <span class="token string">"editing my first tweet!"</span><span class="token punctuation">,</span>\n\t\t\t<span class="token string">"by"</span><span class="token punctuation">:</span> <span class="token string">"ev"</span>\n\t\t<span class="token punctuation">}</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"successfully updated: "</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"update document error: "</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p><strong>Usage</strong></p>\n<p><code class="gatsby-code-text">appbaseRef.update(params)</code></p>\n<ul>\n<li>\n<p><strong>params</strong> <code class="gatsby-code-text">Object</code> <br>A JavaScript object containing the type, id, and the partial JSON data to be updated</p>\n<ul>\n<li><strong>type</strong> <code class="gatsby-code-text">String</code> <br>The type (aka collection) under which the data will be indexed</li>\n<li><strong>body.doc</strong> <code class="gatsby-code-text">Object</code> <br>Partial doc JSON to be updated (all the JSON data can only reside under the body.doc field)</li>\n<li><strong>id</strong> <code class="gatsby-code-text">String</code> <br>Unique ID of the JSON document to be updated. <code class="gatsby-code-text">id</code> here is mandatory and should match an existing object.</li>\n</ul>\n</li>\n</ul>\n<h3 id="delete"><a href="#delete" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>delete()</h3>\n<p>Delete a JSON data object by <code class="gatsby-code-text">id</code>.</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-jsx"><code class="gatsby-code-jsx">appbaseRef<span class="token punctuation">.</span><span class="token keyword">delete</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n\ttype<span class="token punctuation">:</span> <span class="token string">"tweet"</span><span class="token punctuation">,</span>\n\tid<span class="token punctuation">:</span> <span class="token string">"aX12c5"</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"successfully deleted: "</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"deletion error: "</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p><strong>Usage</strong></p>\n<p><code class="gatsby-code-text">appbaseRef.delete(params)</code></p>\n<ul>\n<li>\n<p><strong>params</strong> <code class="gatsby-code-text">Object</code> <br>A JavaScript object containing the <code class="gatsby-code-text">type</code> and <code class="gatsby-code-text">id</code> of the JSON object to be deleted</p>\n<ul>\n<li><strong>type</strong> <code class="gatsby-code-text">String</code> <br>The type (aka collection) of the object to be deleted</li>\n<li><strong>id</strong> <code class="gatsby-code-text">String</code> <br>Unique ID for the JSON data</li>\n</ul>\n</li>\n</ul>\n<h3 id="bulk"><a href="#bulk" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>bulk()</h3>\n<p>Apply many index / delete operations together, useful when importing data for the first time.</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-jsx"><code class="gatsby-code-jsx">appbaseRef<span class="token punctuation">.</span><span class="token function">bulk</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n\ttype<span class="token punctuation">:</span> <span class="token string">"tweet"</span><span class="token punctuation">,</span>\n\tbody<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n\t\t<span class="token comment">// action#1 description</span>\n\t\t<span class="token punctuation">{</span> index<span class="token punctuation">:</span> <span class="token punctuation">{</span> _id<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n\t\t<span class="token comment">// the JSON data to index</span>\n\t\t<span class="token punctuation">{</span> <span class="token string">"msg"</span><span class="token punctuation">:</span> <span class="token string">"writing my second tweet!"</span><span class="token punctuation">,</span>\n\t\t  <span class="token string">"by"</span><span class="token punctuation">:</span> <span class="token string">"Ev"</span><span class="token punctuation">,</span>\n\t\t  <span class="token string">"using"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"appbase.io"</span><span class="token punctuation">,</span> <span class="token string">"javascript"</span><span class="token punctuation">,</span> <span class="token string">"streams"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n\t\t  <span class="token string">"test"</span><span class="token punctuation">:</span> <span class="token boolean">true</span>\n\t\t<span class="token punctuation">}</span><span class="token punctuation">,</span>\n\t\t<span class="token comment">// action#2 description</span>\n\t\t<span class="token punctuation">{</span> <span class="token keyword">delete</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> _id<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n\t\t<span class="token comment">// deletion doesn\'t any further input</span>\n\t<span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"successful bulk: "</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"bulk failed: "</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p><strong>Usage</strong></p>\n<p><code class="gatsby-code-text">appbaseRef.bulk(params)</code></p>\n<ul>\n<li>\n<p><strong>params</strong> <code class="gatsby-code-text">Object</code> <br>A JavaScript object containing the <code class="gatsby-code-text">body</code> and optionally a default <code class="gatsby-code-text">type</code> to be used for actions</p>\n<ul>\n<li><strong>body</strong> <code class="gatsby-code-text">Array</code> <br>A JavaScript array of actions to be performed written as a sequence of action#1, data#1, action#2, data#2, … action#n, data#n</li>\n<li><strong>type</strong> <code class="gatsby-code-text">String</code> <br>Default document type for actions that don’t provide one</li>\n</ul>\n</li>\n</ul>\n<h2 id="getting-data"><a href="#getting-data" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GETTING DATA</h2>\n<h3 id="get"><a href="#get" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>get()</h3>\n<p>Get the JSON document from a particular <code class="gatsby-code-text">type</code> and <code class="gatsby-code-text">id</code>. For subscribing to realtime updates on a document, check out <code class="gatsby-code-text">getStream()</code>.</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-jsx"><code class="gatsby-code-jsx">appbaseRef<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n\t<span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"tweet"</span><span class="token punctuation">,</span>\n \t<span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token string">"aX12c5"</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"The document data: "</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"get() method failed with: "</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p><strong>Usage</strong></p>\n<p><code class="gatsby-code-text">appbaseRef.get(params)</code></p>\n<ul>\n<li>\n<p><strong>params</strong> <code class="gatsby-code-text">Object</code> <br>A JavaScript object containing the <code class="gatsby-code-text">type</code> and <code class="gatsby-code-text">id</code> of the document to retrieve.  </p>\n<ul>\n<li><strong>type</strong> <code class="gatsby-code-text">String</code> <br>Document Type</li>\n<li><strong>id</strong> <code class="gatsby-code-text">String</code> <br>Unique ID of the JSON document</li>\n</ul>\n</li>\n</ul>\n<p>Returns the document at the given <code class="gatsby-code-text">type</code> and <code class="gatsby-code-text">id</code>.</p>\n<h3 id="gettypes"><a href="#gettypes" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>getTypes()</h3>\n<p>Get all the <code class="gatsby-code-text">types</code> of an app.</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-jsx"><code class="gatsby-code-jsx">appbaseRef<span class="token punctuation">.</span><span class="token function">getTypes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"All app types: "</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"getTypes() failed: "</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p><strong>Usage</strong></p>\n<p><code class="gatsby-code-text">appbaseRef.getTypes()</code></p>\n<p>Returns all the <code class="gatsby-code-text">types</code> as an array.</p>\n<h3 id="getmappings"><a href="#getmappings" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>getMappings()</h3>\n<p>Get the mapping scheme of an app. You can read more about mappings <a href="https://www.elastic.co/guide/en/elasticsearch/reference/5.6/mapping.html#mapping">over here</a>.</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-jsx"><code class="gatsby-code-jsx">appbaseRef<span class="token punctuation">.</span><span class="token function">getMappings</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Mapping scheme is: "</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"getMappings() failed: "</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p><strong>Usage</strong></p>\n<p><code class="gatsby-code-text">appbaseRef.getMappings()</code></p>\n<p>Returns the current app’s mapping scheme as an object.</p>\n<h3 id="search"><a href="#search" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>search()</h3>\n<p>Search for matching documents in a type. It’s a convenience method for ElasticSearch’s <code class="gatsby-code-text">/_search</code> endpoint.  For subscribing to realtime updates on the search query, check out <code class="gatsby-code-text">searchStream()</code>.</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-jsx"><code class="gatsby-code-jsx">appbaseRef<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n\ttype<span class="token punctuation">:</span> <span class="token string">"tweet"</span><span class="token punctuation">,</span>\n\tbody<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n\t\tquery<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n\t\t\tmatch_all<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n\t\t<span class="token punctuation">}</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"query result: "</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"search error: "</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p><strong>Usage</strong></p>\n<p><code class="gatsby-code-text">appbaseRef.search(params)</code></p>\n<ul>\n<li>\n<p><strong>params</strong> <code class="gatsby-code-text">Object</code> <br>A JavaScript object containing the query <code class="gatsby-code-text">type</code> and <code class="gatsby-code-text">body</code>.</p>\n<ul>\n<li><strong>type</strong> <code class="gatsby-code-text">String</code> <br>Document type</li>\n<li><strong>body</strong> <code class="gatsby-code-text">Object</code> <br>A JSON object specifying a valid query in the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html">ElasticSearch Query DSL</a> format</li>\n</ul>\n</li>\n</ul>\n<p><strong>Returns</strong>\nPromise.</p>\n<h3 id="msearch"><a href="#msearch" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>msearch()</h3>\n<p>Multi Search to allow execution of several search requests with same API. It’s a convenience method for ElasticSearch’s <code class="gatsby-code-text">/_msearch</code> endpoint. </p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-jsx"><code class="gatsby-code-jsx">appbaseRef<span class="token punctuation">.</span><span class="token function">msearch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n\ttype<span class="token punctuation">:</span> <span class="token string">"tweet"</span><span class="token punctuation">,</span>\n\tbody<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n\t\t<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n\t\t<span class="token punctuation">{</span> <span class="token string">"query"</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">"match_all"</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n\t\t<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n\t\t<span class="token punctuation">{</span> <span class="token string">"query"</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">"match"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">"_id"</span><span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>\n\t<span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"query result: "</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"search error: "</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p><strong>Usage</strong></p>\n<p><code class="gatsby-code-text">appbaseRef.msearch(params)</code></p>\n<ul>\n<li>\n<p><strong>params</strong> <code class="gatsby-code-text">Object</code> <br>A JavaScript object containing the query <code class="gatsby-code-text">type</code> and <code class="gatsby-code-text">body</code>.</p>\n<ul>\n<li><strong>type</strong> <code class="gatsby-code-text">String</code> <br>Document type</li>\n<li><strong>body</strong> <code class="gatsby-code-text">Array</code> <br>An array specifying search requests in header followed by body order for each request.</li>\n</ul>\n</li>\n</ul>\n<p><strong>Returns</strong>\nPromise.</p>\n<h2 id="streaming-data"><a href="#streaming-data" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>STREAMING DATA</h2>\n<h3 id="getstream"><a href="#getstream" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>getStream()</h3>\n<p>Continuously stream new updates to a specific JSON document. If you wish to only fetch the existing value, <code class="gatsby-code-text">get()</code> is sufficient.</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-jsx"><code class="gatsby-code-jsx">appbaseRef<span class="token punctuation">.</span><span class="token function">getStream</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n\ttype<span class="token punctuation">:</span> <span class="token string">"tweet"</span><span class="token punctuation">,</span>\n\tid<span class="token punctuation">:</span> <span class="token string">"aX12c5"</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> \n<span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"data update: "</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> \n<span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"streaming error: "</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> \n<span class="token keyword">function</span><span class="token punctuation">(</span>close<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"streaming closed"</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p><strong>Usage</strong></p>\n<p><code class="gatsby-code-text">appbaseRef.getStream(params)</code></p>\n<ul>\n<li>\n<p><strong>params</strong> <code class="gatsby-code-text">Object</code> <br>A JavaScript object containing the <code class="gatsby-code-text">type</code> and <code class="gatsby-code-text">id</code> of the document to be streamed.</p>\n<ul>\n<li><strong>type</strong> <code class="gatsby-code-text">String</code> <br>Document type</li>\n<li><strong>id</strong> <code class="gatsby-code-text">String</code> <br>Document ID (The ID is always a <code class="gatsby-code-text">String</code> value)</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>Note <span class="fa fa-info-circle"></span></p>\n<p>The <code class="gatsby-code-text">streamOnly</code> field parameter is deprecated starting v0.9.0 onwards, and is the default for how <code class="gatsby-code-text">getStream()</code> works (previously <code class="gatsby-code-text">readStream()</code>).</p>\n</blockquote>\n<p><strong>Returns</strong></p>\n<p>An <code class="gatsby-code-text">Object</code> with</p>\n<ul>\n<li>a <strong>stop()</strong> method to stop the stream</li>\n<li>a <strong>reconnect()</strong> method to reconnect the stream</li>\n</ul>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">var</span> responseStream <span class="token operator">=</span> appbaseRef<span class="token punctuation">.</span><span class="token function">getStream</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n\ttype<span class="token punctuation">:</span> <span class="token string">"tweet"</span><span class="token punctuation">,</span>\n\tid<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"data update: "</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<blockquote>\n<p>Note <i class="fa fa-info-circle"></i></p>\n<p>appbase.js lib uses websockets to stream changes to a subscribed method.</p>\n</blockquote>\n<h3 id="searchstream"><a href="#searchstream" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>searchStream()</h3>\n<p>Continuously stream results of search query on a given <code class="gatsby-code-text">type</code>. Search queries can be a variety of things: from simple monitoring queries, finding an exact set of documents, full-text search queries, to geolocation queries.</p>\n<p><code class="gatsby-code-text">searchStream()</code> subscribes to search results on new document inserts, existing search results can be fetched via <code class="gatsby-code-text">search()</code> method.</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-jsx"><code class="gatsby-code-jsx">appbaseRef<span class="token punctuation">.</span><span class="token function">searchStream</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n\ttype<span class="token punctuation">:</span> <span class="token string">"tweet"</span><span class="token punctuation">,</span>\n\tbody<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n\t\tquery<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n\t\t\tmatch_all<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n\t\t<span class="token punctuation">}</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"query update: "</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"streaming error: "</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p><strong>Usage</strong></p>\n<p><code class="gatsby-code-text">appbaseRef.searchStream(params)</code></p>\n<ul>\n<li>\n<p><strong>params</strong> <code class="gatsby-code-text">Object</code> <br>A JavaScript object containing the query <code class="gatsby-code-text">type</code> and <code class="gatsby-code-text">body</code></p>\n<ul>\n<li><strong>type</strong> <code class="gatsby-code-text">String</code> <br>Document type</li>\n<li><strong>body</strong> <code class="gatsby-code-text">Object</code> <br>A JSON object specifying a valid query in the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html">ElasticSearch Query DSL</a> format</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>Note <span class="fa fa-info-circle"></span></p>\n<p>The <code class="gatsby-code-text">streamOnly</code> field parameter is deprecated starting v0.9.0 onwards, and is the default for how <code class="gatsby-code-text">searchStream()</code> works.</p>\n</blockquote>\n<p><strong>Returns</strong></p>\n<p>An <code class="gatsby-code-text">Object</code> with</p>\n<ul>\n<li>a <strong>stop()</strong> method to stop the stream</li>\n<li>a <strong>reconnect()</strong> method to reconnect the stream</li>\n</ul>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">var</span> responseStream <span class="token operator">=</span> appbaseRef<span class="token punctuation">.</span><span class="token function">searchStream</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n\ttype<span class="token punctuation">:</span> <span class="token string">"tweet"</span><span class="token punctuation">,</span>\n\tbody<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n\t\tquery<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n\t\t\tmatch_all<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n\t\t<span class="token punctuation">}</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"data update: "</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token function">setTimeout</span><span class="token punctuation">(</span>responseStream<span class="token punctuation">.</span>stop<span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span> <span class="token comment">// stop stream after 5s</span>\n</code></pre>\n      </div>\n<h3 id="searchstreamtourl"><a href="#searchstreamtourl" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>searchStreamToURL()</h3>\n<p>Continuously stream results of search query on a given <code class="gatsby-code-text">type</code> to a URL. <strong>searchStreamToURL()</strong> executes a webhook query on document insertion.</p>\n<p><code class="gatsby-code-text">searchStreamToURL()</code> subscribes to search query results on new document inserts.</p>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-jsx"><code class="gatsby-code-jsx">appbaseRef<span class="token punctuation">.</span><span class="token function">searchStreamToURL</span><span class="token punctuation">(</span>\n<span class="token punctuation">{</span>\n\ttype<span class="token punctuation">:</span> <span class="token string">"tweet"</span><span class="token punctuation">,</span>\n\tbody<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n\t\tquery<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n\t\t\tmatch_all<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n\t\t<span class="token punctuation">}</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n\turl<span class="token punctuation">:</span> <span class="token string">\'http://mockbin.org/bin/0844bdda-24f6-4589-a45b-a2139d2ccc84\'</span><span class="token punctuation">,</span>\n\tstring_body<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token punctuation">{</span>_source<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Webhook registered: "</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Error in registering webhook: "</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p><strong>Usage</strong></p>\n<p><code class="gatsby-code-text">appbaseRef.searchStreamToURL(queryParams, urlParams)</code></p>\n<ul>\n<li>\n<p><strong>queryParams</strong> <code class="gatsby-code-text">Object</code> <br>A JavaScript object containing the query <code class="gatsby-code-text">type</code> and <code class="gatsby-code-text">body</code></p>\n<ul>\n<li><strong>type</strong> <code class="gatsby-code-text">String</code> <br>Document type</li>\n<li><strong>body</strong> <code class="gatsby-code-text">Object</code> <br>A JSON object specifying a valid query in the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html">ElasticSearch Query DSL</a> format</li>\n</ul>\n</li>\n<li>\n<p><strong>urlParams</strong> <code class="gatsby-code-text">Object</code> - A JavaScript object containing the <code class="gatsby-code-text">url</code> to which data would be streamed on a query match. It supports optional fields to attach JSON (or string) payloads, control the frequency and number of updates.</p>\n<ul>\n<li><strong>url</strong> <code class="gatsby-code-text">String</code> <br>A URL string</li>\n<li><strong>body</strong> <code class="gatsby-code-text">Object</code> <br>A JSON object to be sent to the URL (used as an alternative to <strong>string_body</strong>)</li>\n<li><strong>string_body</strong> <code class="gatsby-code-text">String</code> <br>A raw string to be sent to the URL (used as an alternative to <strong>body</strong>)</li>\n<li><strong>count</strong> <code class="gatsby-code-text">Number</code> <br># of times the result-request should be sent before terminating the webhook</li>\n<li><strong>interval</strong> <code class="gatsby-code-text">Number</code> <br>Wait duration in seconds before the next result-request</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>Note <span class="fa fa-info-circle"></span></p>\n<p><strong>body</strong> and <strong>string_body</strong> fields support <a href="http://mustache.github.io/mustache.5.html">mustache syntax</a> for accessing values inside the matching result object.</p>\n</blockquote>\n<p><strong>Returns</strong></p>\n<p>An <code class="gatsby-code-text">Object</code> with</p>\n<ul>\n<li>a <strong>stop()</strong> method to de-register the webhook</li>\n<li>a <strong>change()</strong> method to replace the destination URL object</li>\n</ul>\n<blockquote>\n<p>Note <span class="fa fa-info-circle"></span></p>\n<p>We recommend using both <strong>change()</strong> and <strong>stop()</strong> methods inside the <code class="gatsby-code-text">data</code> or <code class="gatsby-code-text">error</code> event handlers due to the async nature of the <code class="gatsby-code-text">searchStreamToURL()</code> method.</p>\n</blockquote>\n<div class="gatsby-highlight">\n      <pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">var</span> responseStream <span class="token operator">=</span> appbaseRef<span class="token punctuation">.</span><span class="token function">searchStreamToURL</span><span class="token punctuation">(</span>\n<span class="token punctuation">{</span>\n\ttype<span class="token punctuation">:</span> <span class="token string">"tweet"</span><span class="token punctuation">,</span>\n\tbody<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n\t\tquery<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n\t\t\tmatch_all<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n\t\t<span class="token punctuation">}</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n\turl<span class="token punctuation">:</span> <span class="token string">"http://mockbin.org/bin/0844bdda-24f6-4589-a45b-a2139d2ccc84"</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"webhook registered: "</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>\n\tresponseStream<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\t\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"webhook de-registered: "</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>\n\t<span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>',
frontmatter:{title:"JavaScript API Reference",next:"webhooks-guide.html",prev:"quickstart.html",nextTitle:"Webhooks Guide",prevTitle:"JavaScript Quick Start"},fields:{path:"docs/javascript/api-reference.md",slug:"javascript/api-reference.html"}}},pathContext:{slug:"javascript/api-reference.html"}}}});
//# sourceMappingURL=path---javascript-api-reference-html-0aba55998311422396d0.js.map